<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Détails du projet</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <!-- Navbar -->
  <nav class="nav fixed-top navbar navbar-expand-lg bg-body-tertiary p-2">
    <a class="btn btn-outline-primary me-2" href="projets.html">⬅ Retour aux projets</a>
  </nav>

  <br><br><br><br>

  <!-- Contenu projet -->
  <div class="container my-5" id="projet-detail">
    <!-- Rempli en JS -->
  </div>

  <script src="projets.js"></script>
  <script>
    // Récupère le titre depuis l’URL
    const params = new URLSearchParams(window.location.search);
    const titreProjet = params.get("titre");

    // Fusionner toutes les listes
    const allProjects = [...Basics, ...Intermediaires, ...Avances];

    // Trouver le projet
    const projet = allProjects.find(p => p.titre === titreProjet);

    if (projet) {
      document.title = projet.titre + " - Détails";
      document.getElementById("projet-detail").innerHTML = `
        <div class="card shadow-lg p-4">
          <img src="${projet.image}" class="card-img-top rounded mb-3" alt="${projet.titre}">
          <h2 class="text-center">${projet.titre}</h2>
          <p class="mt-3">${projet.longDescription}</p>

          <h5>🛠️ Technologies utilisées :</h5>
          <ul>
            ${projet.technos.map(t => `<li>${t}</li>`).join("")}
          </ul>

          <div class="mt-3">
            ${projet.github ? `<a href="${projet.github}" target="_blank" class="btn btn-dark me-2">📂 Code & Schéma montage</a>` : ""}
            ${projet.video ? `<a href="${projet.video}" target="_blank" class="btn btn-danger">🎥 Vidéo</a>` : ""}
          </div>
        </div>
      `;
    } else {
      document.getElementById("projet-detail").innerHTML = `
        <div class="alert alert-danger">Projet introuvable 🚨</div>
      `;
    }
  </script>
</body>
</html>
